# AI 면접 프로젝트 수정 테스트 로그

본 문서는 AI 면접 서비스의 오류 수정 및 최적화 내역을 순서대로 기록합니다.

---

### [1] 리포트 생성 최적화 및 404 에러 방지
- **파일**: `ai-worker/tasks/evaluator.py`
- **수정 내용**: 
    - CPU 워커에서 개별 답변 분석 시 고부하 LLM 연산을 생략하는 'Fast Mode' 도입.
    - 면접 종료 후 전체 대화 내용을 EXAONE LLM으로 요약하는 실질적 리포트 생성 로직 구현.
    - 분석 실패 시에도 기본 레코드를 생성하여 프론트엔드 404 에러 원천 차단.

### [2] 지원 직무 인식 오류 ('General') 해결
- **파일**: `frontend/src/pages/landing/ResumePage.jsx`
- **수정 내용**: 
    - 이력서 업로드 후 나타나는 확인 화면에서 지원 직무를 사용자가 직접 수정할 수 있는 Input 필드 추가.
    - AI가 직무를 잘못 추출했을 경우 발생하는 질문 품질 저하 문제 해결.

### [3] 프론트엔드 직무 폴백 로직 강화
- **파일**: `frontend/src/App.jsx`
- **수정 내용**: 
    - 직무 데이터가 없을 경우 기본값을 '미지정 직무'에서 '보안 엔지니어'로 변경하여 도메인 특화 질문이 나오도록 유도.
    - 여러 깊이의 이력서 데이터 구조를 탐색하여 직무 명칭을 더 정확히 매칭함.

### [4] 인프라 모니터링 로그 추가
- **파일**: `backend-core/routes/interviews.py`
- **수정 내용**: 
    - 인터뷰 세션 생성 시 전달받은 `position` 데이터를 로그에 명시적으로 출력하여 직무 유실 지점 추적 가능하게 함.

### [5] AI 질문 생성 지연에 따른 타임아웃 연장
- **파일**: `frontend/src/App.jsx`
- **수정 내용**: 
    - 다음 질문 대기 시간(Polling)을 120초(2분)에서 300초(5분)로 대폭 연장.
    - 대형 언어 모델(EXAONE)의 로딩 및 RAG 검색 시간을 충분히 확보하여 면접이 조기 종료되는 현상 해결.

### [6] 인터뷰 단계 무한 루프 수정
- **파일**: `ai-worker/tasks/question_generation.py`
- **수정 내용**: 
    - 마지막 단계 탐지 기준을 불확실한 `order` 값에서 절대적인 `Transcript.id` 역순으로 변경.
    - 시스템이 현재 단계를 오판하여 동일한 주제의 질문만 반복하던 로직 결함 수정.

### [7] 실시간 답변 기반 꼬리질문(Follow-up) 엔진 구현
- **파일**: `ai-worker/tasks/question_generation.py`
- **수정 내용**: 
    - 시나리오의 `followup` 타입 처리 시, RAG 검색이 아닌 사용자의 '직전 답변 내용'을 LLM 컨텍스트로 우선 주입.
    - 사용자의 대답을 구체적으로 파고드는 지능형 꼬리질문 기능 활성화.

### [8] AI 질문 길이 및 난이도 최적화
- **파일**: `ai-worker/tasks/question_generation.py`
- **수정 내용**: 
    - 프롬프트에 '150자 이내(한두 문장)' 제한 및 '사족 금지' 지침 강화.
    - '날카로운 분석' 위주의 질문에서 '명확하고 이해하기 쉬운 핵심 질문'으로 톤앤매너 조정하여 사용자 부담 감소.

---
**최종 업데이트**: 2026-02-10
**작성자**: Antigravity (AI Assistant)
