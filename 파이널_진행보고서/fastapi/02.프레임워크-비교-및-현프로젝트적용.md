# 📘 FastAPI 이해 및 AI 면접 프로젝트 적용 보고서

---

## 1. 개요

본 보고서는 현대적인 Python 웹 프레임워크인 **FastAPI**의 핵심 개념을 정리하고, 현재 개발 중인 **AI 면접 프로젝트**에 어떻게 실제적으로 적용되었는지 코드 예시와 함께 분석하는 것을 목적으로 한다.

---

## 2. FastAPI의 개념 및 우리 프로젝트 선정 이유

FastAPI는 Starlette와 Pydantic을 기반으로 한 고성능 API 프레임워크이다. 우리 프로젝트에서 이를 선정한 핵심 이유는 **실시간성**과 **AI 모델 연동의 복잡성**을 해결하기 위함이다.

* **웹 서버**: `backend-core`가 사용자의 면접 요청을 받는 역할
* **API**: 프론트엔드(React)와 백엔드 간의 데이터 교환 규칙
* **프로젝트에서의 역할**: AI 면접관의 '두뇌'인 AI-Worker를 제어하고 면접 데이터를 관리하는 **중앙 관제탑**

---

## 3. 기술적 특징 및 현 프로젝트 적용 사례

### 3.1 비동기(Asynchronous) 처리 지원

FastAPI는 `async/await`를 통해 비동기 처리를 기본 지원한다.

#### ▣ 프로젝트 적용 (routes/interviews.py)

면접 세션 생성 시 비동기를 활용해 대기 시간을 최소화한다.

```python
# [적용 코드 사례]
@router.post("", response_model=InterviewResponse)
async def create_interview(
    interview_data: InterviewCreate,
    db: Session = Depends(get_session),
    current_user: User = Depends(get_current_user)
):
    # 비동기로 면접 레코드 생성 및 초기화 수행
    ...
```

---

### 3.2 데이터 자동 검증 (Pydantic & SQLModel)

입력 데이터의 타입을 강제하고 자동으로 검증한다. 우리 프로젝트는 `SQLModel`을 사용하여 DB 모델과 검증 모델을 통합했다.

#### ▣ 프로젝트 적용 (db_models.py)

사용자로부터 받는 데이터 형식을 정의하고 자동 검증한다.

```python
# [적용 코드 사례]
class InterviewCreate(SQLModel):
    """면접 생성 시 프론트엔드에서 보내야 하는 필수 데이터 정의"""
    position: str
    company_id: Optional[str] = None
    resume_id: Optional[int] = None
    scheduled_time: Optional[datetime] = None
```

이 구조 덕분에 개발자가 별도의 `if isinstance(data, str):`와 같은 검증 로직을 짤 필요가 없다.

---

### 3.3 자동 API 문서 생성 (Swagger UI)

서버 실행 시 `/docs` 경로에서 API 명세서가 자동으로 생성된다.

#### ▣ 프로젝트 적용

프론트엔드 개발자는 별도의 문서 없이도 아래와 같은 정보를 즉시 확인하고 테스트할 수 있다.

* `/interviews/{interview_id}/questions` : 질문 폴링 API 테스트
* 필수 파라미터 및 응답 JSON 구조 확인

---

### 3.4 의존성 주입 (Dependency Injection)

`Depends`를 통해 필요한 객체(DB 세션, 인증 정보)를 필요한 시점에 주입받는다.

#### ▣ 프로젝트 적용 (main.py / routes)

```python
# [적용 코드 사례]
@app.get("/users/me")
async def read_users_me(current_user: User = Depends(get_current_user)):
    # 로그인한 유저 정보를 Depends를 통해 안전하게 가져옴
    return current_user
```

---

## 4. Django/Flask와의 비교 및 우리 프로젝트의 선택

| 항목                       | FastAPI (우리 프로젝트)        | Django             | Flask                |
| :------------------------- | :----------------------------- | :----------------- | :------------------- |
| **속도/성능**        | **매우 빠름 (비동기)**   | 보통               | 보통                 |
| **데이터 검증**      | **기본 포함 (Pydantic)** | 별도 구현 필요     | 별도 라이브러리 필요 |
| **비동기 모델 서빙** | **최적화됨**             | 상대적으로 무거움  | 보통                 |
| **자동 문서화**      | **기본 내장**            | 별도 플러그인 필요 | 별도 플러그인 필요   |

* **Django 대신 FastAPI인 이유**: Django는 Admin 페이지 등 풀스택 기능이 강력하지만, AI 모델 추론과 같은 비동기 태스크 위주의 서버에는 구조가 다소 무겁다.
* **Flask 대신 FastAPI인 이유**: Flask는 매우 가볍지만, 대규모 프로젝트에서 데이터 검증과 문서화 도구를 일일이 설정해야 하는 번거로움이 있다.

---

## 5. 종합 결론 및 우리 프로젝트만의 강점

우리 프로젝트는 FastAPI를 통해 **"가볍지만 강력한"** 백엔드를 구축했다.

1. **확장성**: `ai-worker`(Celery)와의 비동기 통신을 원활하게 중계한다.
2. **안정성**: `SQLModel` 기반의 엄격한 데이터 검증으로 런타임 에러를 사전에 차단한다.
3. **협업성**: 자동 생성된 Swagger 문서를 통해 프론트엔드-백엔드 간 소통 비용을 0으로 줄였다.

---

**[작성 위치]**

* 파일 경로: `C:\big20\Big20_aI_interview_project\파이널_진행보고서\fastapi\02.프레임워크-비교-및-현프로젝트적용.md`
