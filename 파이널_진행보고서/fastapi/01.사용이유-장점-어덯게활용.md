# FastAPI: AI 면접 시스템의 핵심 백엔드 프레임워크

본 문서에서는 프로젝트에서 FastAPI를 선정한 이유와 그에 따른 장점, 그리고 실제 구현 과정에서의 구체적인 활용 방식을 기술합니다.

## 1. FastAPI 선정 이유 (Selection Reason)

AI 면접 시스템은 실시간 음성 처리(STT/TTS), 대규모 언어 모델(LLM) 추론, 그리고 다수의 면접 세션을 동시에 관리해야 하는 **I/O 집약적이고 복잡한 워크플로우**를 가지고 있습니다. 이를 위해 다음과 같은 이유로 FastAPI를 선정하였습니다.

*   **비동기 처리 성능 (High Performance):** `async/await` 기반의 비동기 프로그래밍을 기본으로 지원하여, 여러 유저의 면접 요청을 효율적으로 처리할 수 있습니다.
*   **개발 생산성 및 자동화:** Python의 Type Hint를 사용하여 API 스펙을 정의하면, Swagger UI(`docs/`)가 자동으로 생성되어 프론트엔드와의 협업 효율이 극대화됩니다.
*   **Pydantic 기반의 데이터 검증:** 요청 데이터의 유효성 검사를 자동화하여 런타임 에러를 방지하고 안정적인 서비스를 보장합니다.

## 2. 기술적 장점 (Technical Advantages)

FastAPI를 도입함으로써 얻은 구체적인 기술적 이점은 다음과 같습니다.

*   **의존성 주입(Dependency Injection) 시스템:** 
    *   `Depends`를 활용하여 DB 세션 관리(`get_session`) 및 사용자 인증(`get_current_user`) 로직을 깔끔하게 분리하고 재사용할 수 있습니다.
*   **현대적인 Python 생태계 활용:** 
    *   `SQLModel`과 결합하여 DB 모델과 API 스키마를 단일 클래스로 관리함으로써 코드 중복을 획기적으로 줄였습니다.
*   **강력한 예외 처리:** 
    *   `exception_handler`를 통해 `RequestValidationError` 등의 에러를 커스터마이징하여, 클라이언트에게 명확한 에러 메시지를 전달하고 서버 측에서 상세한 로깅을 수행합니다.

## 3. 프로젝트에서의 활용 방식 (Usage in Project)

본 프로젝트에서는 FastAPI를 단순 API 서버를 넘어, **시스템의 관제탑(Orchestrator)** 역할을 하도록 설계하였습니다.

### 3.1. 모듈화된 라우팅 구조 (Modular Routing)
`APIRouter`를 사용하여 기능별로 부서를 나누어 관리하고 있습니다.
*   `auth.py`: JWT 기반 인증 처리
*   `interviews.py`: 면접 세션 생성 및 질문 흐름 제어
*   `stt.py` 및 `resumes.py`: 데이터 처리 전담

### 3.2. 비동기 작업 큐(Celery)와의 연동
FastAPI 엔드포인트 내에서 무거운 AI 로직을 직접 수행하지 않고, `celery_app.send_task`를 사용하여 `ai-worker`로 작업을 위임합니다.
*   **예시:** 면접 질문 생성 시 TTS 합성 요청을 비동기로 발사하고, FastAPI는 즉시 응답을 반환하여 서비스 응답성을 유지합니다.

### 3.3. 실시간 리소스 서빙
*   `app.mount` 기능을 사용하여 TTS로 생성된 음성 파일 등을 프론트엔드에서 즉시 접근할 수 있도록 정적 파일 서버 역할을 병행합니다.

### 3.4. 데이터 검증 및 보안
*   `FastAPI`의 `CORSMiddleware`를 통해 보안 가이드라인을 준수하며 프론트엔드(React/Vite)와의 통신을 안전하게 관리합니다.

---

**결론적으로, FastAPI는 본 프로젝트의 복잡한 AI 워크플로우를 단순화하고, 고성능과 개발 편의성을 동시에 확보하는 데 핵심적인 역할을 수행하였습니다.**
