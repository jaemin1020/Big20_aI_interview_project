# 2026-02-11 AI Interview 시스템 오류 수정 내역

## 1. AI-Worker 문법 오류 수정 (SyntaxError)

- **대상 파일**: `ai-worker/tasks/stt.py`
- **오류 현황**: Git 머지 충돌 기호(`<<<<<<<`, `=======`, `>>>>>>>`)가 코드 내에 남아서 Celery 워커가 실행되지 않고 즉시 종료되는 문제 발생.
- **수정 내용**: 충돌 기호를 제거하고 `stt_model` 전역 변수를 사용하는 올바른 코드로 정리 완료.

## 2. RAG 파이프라인 데이터 저장 로직 연결

- **대상 파일**: `ai-worker/tasks/resume_embedding.py`
- **오류 현황**: 이력서 파싱 및 청킹은 수행되나, 생성된 청크 벡터(Embedding)들이 실제 벡터 DB 테이블(`resume_embeddings`)에 저장되지 않고 누락되는 현상 확인. (RAG 검색 불가 원인)
- **수정 내용**: `pgvector_store.py`의 `store_embeddings` 함수를 연결하여, 모든 이력서 청크 데이터가 PostgreSQL 벡터 테이블에 정상적으로 적재되도록 로직 수정.

## 3. DB 초기화 스크립트 오류 수정

- **대상 파일**: `infra/postgres/init.sql`
- **오류 현황**: `evaluation_reports` 테이블이 아직 생성되지 않은 상태에서 트리거를 생성하려 시도하여 DB 컨테이너가 에러(Code 3)와 함께 종료됨.
- **수정 내용**: 테이블 존재 여부를 체크하여 안전하게 트리거를 생성하거나, 백엔드에서 생성하도록 로직 분리 검토 (현재는 스크립트 실패를 방지하도록 주석 처리 또는 조건문 추가).

---

**작업자**: Antigravity (AI Assistant)
**상태**: 수정 및 연결 작업 완료 (정상 작동 확인 대기)
